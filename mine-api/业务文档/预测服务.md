# 预测服务模块

## 模块概述
预测服务模块负责商品销售预测功能，采用策略模式支持多种预测算法。

## 核心设计
- 策略模式：通过ForecastStrategy接口定义预测算法规范
- 策略实现：
  - HoltNonSeasonalStrategy: 基于Holt双指数平滑的非季节性预测
  - MovingAverageStrategy: 基于移动平均的简单预测
- 策略选择：根据历史数据量自动选择最适合的预测策略

## 核心类
- ForecastService: 预测服务主类，协调预测流程
- ForecastStrategy: 预测策略接口
- HoltWintersForecast: 提供Holt-Winters和Holt算法的核心实现

## 预测流程
1. 数据准备：从销售统计数据中提取商品历史销量
2. 数据预处理：可选步骤，如应用移动平均平滑
3. 策略选择：根据数据量选择最适合的预测策略
4. 执行预测：调用选定策略的forecast方法
5. 结果处理：汇总预测结果并确保非负

## 算法支持
1. Holt双指数平滑
   - 适用场景：有明显趋势但无季节性的数据
   - 最小数据量：15个数据点
2. 移动平均
   - 适用场景：短期预测，数据波动较大
   - 最小数据量：7个数据点

## 异常处理
- 数据不足：当历史数据量不足时抛出MyException
- 预测失败：记录错误日志并返回0值预测

## 与其他模块关系
- 依赖产品服务获取商品最早销售日期
- 为采购服务提供销量预测数据
- 使用统计模块的销售数据作为输入
