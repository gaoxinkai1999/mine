import{s as b,o as B,a as S,c as x,b as r,d as a,u as o,i as U,e as k,f as V,g as y}from"./index-C0qELFvz.js";import{N}from"./index-DvCqQQ0t.js";import{u as O,S as P}from"./ShopInfo-Dci4Zw4d.js";import R from"./CategorySidebar-6YxQOvZG.js";import T from"./ProductList-D1Y9d7Fw.js";import F from"./CartBar-DXfTXEOx.js";import I from"./CartPopup-C3tcGB8A.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css              */import"./ShopListItem-DMELL755.js";import"./index-KpkTHw7S.js";import"./index-DpkCpmyv.js";import"./index-l99pA0pT.js";import"./use-id-DTylsVlq.js";import"./index-CzMMTJ2E.js";import"./nearShopList-OpVUD0zr.js";import"./returnOrder-xEBi52EJ.js";import"./index-Dx3zNtAq.js";import"./use-tab-status-Bni8MSz3.js";import"./use-refs-HP3ZCcq4.js";import"./index-Ui15doG1.js";import"./index-CDhzzMBW.js";import"./index-Di8JCeMk.js";import"./index-JzpjVZKK.js";const $={class:"order-page"},D={class:"order-scroll-container"},E={class:"shop-container"},M={class:"product-container"},j={class:"cart-wrapper"},q={__name:"new",setup(z){const d=k(),i=O(),{activeCategory:s,categories:u,currentFoods:f,cart:c,nearbyShops:_,totalPrice:p,showCart:n}=b(i),{init:v,updateCart:l,clearCart:m,submitOrder:h}=i,C=()=>{d.back()},g=()=>{V({title:"确认提交订单",message:`总计金额：¥${p.value.toFixed(2)}，确定要提交订单吗？`,confirmButtonText:"确认提交",cancelButtonText:"再想想"}).then(()=>{h()}).catch(()=>{})};return B(()=>{v()}),S(()=>{m()}),(A,t)=>{const w=N;return y(),x("div",$,[r(w,{title:"新建订单","left-arrow":"",fixed:"",placeholder:"",onClickLeft:C,class:"page-nav"}),a("div",D,[a("div",E,[r(P,{shop:o(_)[0]},null,8,["shop"])]),a("div",M,[r(R,{modelValue:o(s),"onUpdate:modelValue":t[0]||(t[0]=e=>U(s)?s.value=e:null),categories:o(u),class:"category-sidebar"},null,8,["modelValue","categories"]),r(T,{products:o(f),onUpdateCart:o(l),class:"product-list-component"},null,8,["products","onUpdateCart"])])]),a("div",j,[r(F,{cart:o(c),"total-price":o(p),onShowCart:t[1]||(t[1]=e=>n.value=!0),onSubmit:g},null,8,["cart","total-price"])]),r(I,{show:o(n),"onUpdate:show":t[2]||(t[2]=e=>n.value=e),"cart-items":o(c),onUpdate:o(l),onClear:o(m)},null,8,["show","cart-items","onUpdate","onClear"])])}}},vo=L(q,[["__scopeId","data-v-cc7899d7"]]);export{vo as default};
