import{j as V,r as d,c,d as U,F as v,q as L,v as _,b as t,w as n,T as P,p as g,D as h,g as r,x as k,y as C,B as I}from"./index-C0qELFvz.js";import"./index-KpkTHw7S.js";import{F as $}from"./index-l99pA0pT.js";import{R as j,a as E}from"./index-BPfQg8xs.js";import"./index-DzkoNBBx.js";import{C as G}from"./index-CDhzzMBW.js";import"./index-DpkCpmyv.js";import{u as O}from"./returnOrder-xEBi52EJ.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-id-DTylsVlq.js";const A={class:"product-list"},H={__name:"ProductList",setup(J){const f=O(),w=V(()=>f.currentFoods),x=V(()=>f.cart),m=d(!1),u=d(0),a=d(1),i=d(null),l=d("仅退款"),q=s=>{i.value=s,m.value=!0,u.value=0,a.value=1},B=()=>{},F=s=>{if(u.value<=0){g("退货金额必须大于0");return}if(l.value==="退货退款"&&(a.value<=0||!a.value)){g("退货数量必须大于0");return}x.value.push({id:s.id,name:s.name,amount:Number(u.value),type:l.value,quantity:l.value==="退货退款"?Number(a.value):null})};return(s,e)=>{var b;const N=I,R=G,y=j,T=E,p=$,z=h;return r(),c(v,null,[U("div",A,[(r(!0),c(v,null,L(w.value,(o,D)=>(r(),_(R,{key:D,title:o.name},{footer:n(()=>[t(N,{icon:"plus",size:"small",type:"primary",onClick:K=>q(o)},null,8,["onClick"])]),_:2},1032,["title"]))),128))]),(r(),_(P,{to:"body"},[t(z,{show:m.value,"onUpdate:show":e[3]||(e[3]=o=>m.value=o),"overlay-style":{zIndex:3090},title:((b=i.value)==null?void 0:b.name)||"产品详情","z-index":3100,class:"product-dialog","show-cancel-button":"",onConfirm:e[4]||(e[4]=o=>F(i.value)),"close-on-click-overlay":!0},{default:n(()=>[i.value?(r(),c(v,{key:0},[t(p,{name:"radio",label:"退货类型",required:""},{input:n(()=>[t(T,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value=o),direction:"horizontal",onChange:B},{default:n(()=>[t(y,{name:"仅退款"},{default:n(()=>e[5]||(e[5]=[k("仅退款")])),_:1}),t(y,{name:"退货退款"},{default:n(()=>e[6]||(e[6]=[k("退货退款")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(p,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),"input-align":"center",label:"退货金额",required:"",type:"number"},null,8,["modelValue"]),l.value==="退货退款"?(r(),_(p,{key:0,modelValue:a.value,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value=o),"input-align":"center",label:"退货数量",required:"",type:"number"},null,8,["modelValue"])):C("",!0)],64)):C("",!0)]),_:1},8,["show","title"])]))],64)}}},le=S(H,[["__scopeId","data-v-3595cbde"]]);export{le as default};
