import{j as k,r as y,A as S,v as g,w as x,P as B,g as r,d as e,t as l,b as d,c as u,q as I,F as V,I as q}from"./index-C0qELFvz.js";import{S as w}from"./index-Di8JCeMk.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"batch-selector"},U={class:"popup-header"},z={class:"popup-title"},A={class:"batch-list"},C={class:"batch-info"},E={class:"batch-number"},P={class:"batch-stock"},j={__name:"BatchSelector",props:{visible:{type:Boolean,required:!0},productName:{type:String,required:!0,default:"未知商品"},batchStocks:{type:Array,required:!0,default:()=>[]}},emits:["update:visible","confirm"],setup(c,{emit:p}){const i=c,m=p,n=k({get:()=>i.visible,set:o=>m("update:visible",o)}),s=y({}),_=()=>{s.value={},i.batchStocks.forEach(o=>{s.value[o.batchId]=0})};return S(()=>i.visible,o=>{o&&_()}),(o,a)=>{const v=q,h=w,b=B;return r(),g(b,{show:n.value,"onUpdate:show":a[1]||(a[1]=t=>n.value=t),position:"bottom",round:"","z-index":"9999",style:{height:"70%"}},{default:x(()=>[e("div",F,[e("div",U,[e("div",z,"选择"+l(c.productName)+"的批次",1),d(v,{name:"cross",onClick:a[0]||(a[0]=t=>n.value=!1)})]),e("div",A,[(r(!0),u(V,null,I(c.batchStocks,t=>(r(),u("div",{key:t.batchId,class:"batch-item"},[e("div",C,[e("div",E,"批次 "+l(t.batchNumber),1),e("div",P,"可用库存: "+l(t.quantity),1)]),d(h,{modelValue:s.value[t.batchId],"onUpdate:modelValue":f=>s.value[t.batchId]=f,min:0,max:t.quantity,theme:"round","button-size":"22"},null,8,["modelValue","onUpdate:modelValue","max"])]))),128))])])]),_:1},8,["show"])}}},G=N(j,[["__scopeId","data-v-3e338004"]]);export{G as default};
